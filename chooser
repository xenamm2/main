if not game:IsLoaded() then game.Loaded:Wait() end
local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

local function Load_ActionA()
	loadstring(game:HttpGet('https://raw.githubusercontent.com/xenamm2/main/refs/heads/main/afchoose'))()
end

local function Load_ActionB()
	loadstring(game:HttpGet(''))()
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "LoaderUI"
screenGui.ResetOnSpawn = false
screenGui.IgnoreGuiInset = true
screenGui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Name = "Main"
frame.Size = UDim2.new(0, 360, 0, 180)
frame.Position = UDim2.new(0.5, 0, 0.5, 0)
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.BackgroundColor3 = Color3.fromRGB(28, 28, 30)
frame.BackgroundTransparency = 1
frame.BorderSizePixel = 0
frame.Parent = screenGui
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 16)

local title = Instance.new("TextLabel", frame)
title.Name = "Title"
title.Size = UDim2.new(1, -20, 0, 36)
title.Position = UDim2.new(0, 10, 0, 10)
title.BackgroundTransparency = 1
title.Text = "Loader"
title.Font = Enum.Font.GothamBold
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(240, 240, 240)
title.TextTransparency = 1
title.TextXAlignment = Enum.TextXAlignment.Left

local info = Instance.new("TextLabel", frame)
info.Size = UDim2.new(1, -20, 0, 18)
info.Position = UDim2.new(0, 10, 0, 50)
info.BackgroundTransparency = 1
info.Text = "Choose a script to load."
info.Font = Enum.Font.Gotham
info.TextSize = 14
info.TextColor3 = Color3.fromRGB(200, 200, 200)
info.TextTransparency = 1
info.TextXAlignment = Enum.TextXAlignment.Left

local function createButton(name, text, position)
	local btn = Instance.new("TextButton")
	btn.Name = name
	btn.Size = UDim2.new(0.44, 0, 0, 54)
	btn.Position = position
	btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
	btn.Text = text
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 16
	btn.TextColor3 = Color3.fromRGB(235, 235, 235)
	btn.AutoButtonColor = false
	btn.TextTransparency = 1
	btn.BackgroundTransparency = 1 -- start fully transparent
	btn.Parent = frame

	local corner = Instance.new("UICorner", btn)
	corner.CornerRadius = UDim.new(0, 12)

	btn.MouseEnter:Connect(function()
		TweenService:Create(btn, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(60, 60, 60),
			Position = position - UDim2.new(0, 0, 0, 2)
		}):Play()
	end)

	btn.MouseLeave:Connect(function()
		TweenService:Create(btn, TweenInfo.new(0.2), {
			BackgroundColor3 = Color3.fromRGB(45, 45, 45),
			Position = position
		}):Play()
	end)

	return btn
end

local btnA = createButton("BtnA", "Load Autofarm", UDim2.new(0.05, 0, 0, 90))
local btnB = createButton("BtnB", "Load Trade Scam", UDim2.new(0.51, 0, 0, 90))

local tweenInfo = TweenInfo.new(0.35, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)

local function fadeIn()
	TweenService:Create(frame, tweenInfo, {BackgroundTransparency = 0}):Play()
	TweenService:Create(title, tweenInfo, {TextTransparency = 0}):Play()
	TweenService:Create(info, tweenInfo, {TextTransparency = 0}):Play()
	TweenService:Create(btnA, tweenInfo, {TextTransparency = 0, BackgroundTransparency = 0}):Play()
	TweenService:Create(btnB, tweenInfo, {TextTransparency = 0, BackgroundTransparency = 0}):Play()
end

local function fadeOutAndClose(callback)
	btnA.Active = false
	btnB.Active = false

	local tFrame = TweenService:Create(frame, tweenInfo, {BackgroundTransparency = 1})
	local tTitle = TweenService:Create(title, tweenInfo, {TextTransparency = 1})
	local tInfo = TweenService:Create(info, tweenInfo, {TextTransparency = 1})
	local tBtnA = TweenService:Create(btnA, tweenInfo, {TextTransparency = 1, BackgroundTransparency = 1})
	local tBtnB = TweenService:Create(btnB, tweenInfo, {TextTransparency = 1, BackgroundTransparency = 1})

	tFrame:Play()
	tTitle:Play()
	tInfo:Play()
	tBtnA:Play()
	tBtnB:Play()

	tFrame.Completed:Wait()

	if type(callback) == "function" then
		local ok, err = pcall(callback)
		if not ok then warn("Callback error:", err) end
	end

	screenGui:Destroy()
end

btnA.MouseButton1Click:Connect(function() fadeOutAndClose(Load_ActionA) end)
btnB.MouseButton1Click:Connect(function() fadeOutAndClose(Load_ActionB) end)

local dragging, dragStart, startPos

frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
		local delta = input.Position - dragStart
		frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
	end
end)

UserInputService.InputEnded:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		dragging = false
	end
end)

frame.Position = UDim2.new(0.5, 0, 0.5, 0)
task.defer(fadeIn)
